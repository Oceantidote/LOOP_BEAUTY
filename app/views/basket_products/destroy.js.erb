containers = document.querySelectorAll('.item-<%= @item.id %>')
document.querySelector('.basket-item-count').innerText = '<%= @basket.total_number_of_products %>'
document.querySelector('.basket-mobile').innerText = '<%= @basket.total_number_of_products %>'
document.querySelector('.navbar-basket-title > h6').innerHTML = '<span class="boldest">My Bag</span>, <%= @basket.products.size %> <%= 'item'.pluralize(@basket.products.size) %>'
subtotals = document.querySelectorAll('.basket-total-price')
subtotals.forEach(total => {
  total.innerHTML = "<%= humanized_money_with_symbol @item.basket.subtotal %>"
})
total = document.querySelector('.shopping-bag-continue-checkout-total > p')
if (total) {
  total.innerText = "Total: <%= humanized_money_with_symbol @item.basket.total_price %>"
}
if (<%= @basket.empty? %>) {
  document.querySelector('.navbar-basket-items-container').innerHTML = '<p class="medium-margin text-center boldest">Your basket is empty</p>'
}
containers.forEach(container => container.remove())
