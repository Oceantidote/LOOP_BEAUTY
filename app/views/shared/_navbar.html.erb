<div class="offers-banner">
  <p class="offers-banner-text">FREE SAMPLES WITH EVERY ORDER</p>
</div>
<div class="navbar navbar-expand-sm navbar-light navbar-lewagon">
  <%= link_to "#", class: "navbar-brand" do %>
    <%= image_tag 'loop-beauty-logo.svg' %>
  <% end %>
  <div class="navbar-middle">
    <p id="navbar-brands" class="navbar-middle-item">Brands</p>
    <p id="navbar-influencers" class="navbar-middle-item">Influencers</p>
    <%= link_to 'Make-Up', '#', class: 'navbar-middle-item' %>
    <%= link_to 'Insider','#', class: 'navbar-middle-item' %>
    <%= link_to 'Video','#', class: 'navbar-middle-item' %>
  </div>
  <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
    <span class="navbar-toggler-icon"></span>
  </button>
  <div class="collapse navbar-collapse" id="navbarSupportedContent">
    <ul class="navbar-nav mr-auto">
      <% if user_signed_in? %>
        <li class="nav-item active">
          <%= link_to "Home", "#", class: "nav-link" %>
        </li>
        <li class="nav-item">
          <%= link_to "Messages", "#", class: "nav-link" %>
        </li>
        <li class="nav-item dropdown">
          <%= image_tag "https://kitt.lewagon.com/placeholder/users/ssaunier", class: "avatar dropdown-toggle", id: "navbarDropdown", data: { toggle: "dropdown" }, 'aria-haspopup': true, 'aria-expanded': false %>
          <div class="dropdown-menu dropdown-menu-right" aria-labelledby="navbarDropdown">
            <%= link_to "Action", "#", class: "dropdown-item" %>
            <%= link_to "Another action", "#", class: "dropdown-item" %>
            <%= link_to "Log out", destroy_user_session_path, method: :delete, class: "dropdown-item" %>
          </div>
        </li>
      <% else %>
        <div style="display: flex; align-items: center;">
          <li class="nav-item">
            <%= link_to 'Follow', 'https://www.instagram.com/loop_beauty/', target: "_blank", class: "nav-link-normal" %>
          </li>
          |
          <li class="nav-item">
            <%= link_to 'Freebies', '#', class: "nav-link-normal" %>
          </li>
        </div>
        <li class="nav-item">
          <%= link_to '#', class: "nav-link" do %>
            <%= image_tag 'navbar-search.png' %>
          <% end %>
        </li>
        <li class="nav-item">
          <%= link_to '#', class: "nav-link" do %>
            <%= image_tag 'navbar-user.png' %>
          <% end %>
        </li>
        <li class="nav-item basket-icon-container">
          <%= link_to '#', class: "nav-link" do %>
            <%= image_tag 'navbar-basket.png' %>
          <% end %>
          <p class="basket-item-count">10</p>
        </li>
      <% end %>
    </ul>
  </div>
</div>
<div class="navbar-submenu navbar-submenu-brands">
  <div class="navbar-submenu-container">
    <% @brands.each do |brand| %>
      <%= link_to :root, class: "each-brand" do %>
        <%= brand.name %>
      <% end %>
    <% end %>
  </div>
</div>
<div class="navbar-submenu navbar-submenu-influencers">
  <div class="navbar-submenu-container">
    <% @influencers.each do |influencer| %>
      <%= link_to :root, class: "each-brand" do %>
        <%= influencer.first_name %> <%= influencer.last_name %>
      <% end %>
    <% end %>
  </div>
</div>

<script>
  navbarBrands = document.getElementById('navbar-brands');
  menuBrands = document.querySelector('.navbar-submenu-brands');
  navbarInfluencers = document.getElementById('navbar-influencers');
  menuInfluencers = document.querySelector('.navbar-submenu-influencers');

  navbarBrands.addEventListener('mouseover', function() {
    menuBrands.style.display = "flex";
  });
  navbarBrands.addEventListener('mouseleave', function() {
    menuBrands.style.display = "none";
  });

  menuBrands.addEventListener('mouseover', function() {
    menuBrands.style.display = "flex";
  });
  menuBrands.addEventListener('mouseleave', function() {
    menuBrands.style.display = "none";
  });

  navbarInfluencers.addEventListener('mouseover', function() {
    menuInfluencers.style.display = "flex";
  });
  navbarInfluencers.addEventListener('mouseleave', function() {
    menuInfluencers.style.display = "none";
  });

  menuInfluencers.addEventListener('mouseover', function() {
    menuInfluencers.style.display = "flex";
  });
  menuInfluencers.addEventListener('mouseleave', function() {
    menuInfluencers.style.display = "none";
  });
</script>
