<div class="insider-show-banner" style="background-image: url(<%= url_for(@featured_article.cover_photo) %>)">
  <div class="insider-home-banner-text-container">
    <div class="insider-home-banner-text">
      <h2 class="old-standard"><%= @featured_article.title %></h2>
      <%= link_to 'Read more', insider_article_path(@featured_article) %>
    </div>
  </div>
</div>
<div class="insider-home-tabs-container">
  <div class="insider-home-tabs">
    <%= form_tag(insider_articles_path, method: :get, remote: true) do %>
      <%= hidden_field_tag :category, params[:category], value: "All" %>
      <%= submit_tag "All articles", class: "each-insider-home-tab #{ (params[:category] == 'All' || !params[:category].present? ) ? 'insider-home-tab-active' : '' }"  %>
    <% end %>
    <%= form_tag(insider_articles_path, method: :get, remote: true) do %>
      <%= hidden_field_tag :category, params[:category], value: "Inspiration" %>
      <%= submit_tag "Inspiration", class: "each-insider-home-tab #{ params[:category] == 'Inspiration' ? 'insider-home-tab-active' : '' }"  %>
    <% end %>
    <%= form_tag(insider_articles_path, method: :get, remote: true) do %>
      <%= hidden_field_tag :category, params[:category], value: "Lifestyle" %>
      <%= submit_tag "Lifestyle", class: "each-insider-home-tab #{ params[:category] == 'Lifestyle' ? 'insider-home-tab-active' : '' }"  %>
    <% end %>
    <%= form_tag(insider_articles_path, method: :get, remote: true) do %>
      <%= hidden_field_tag :category, params[:category], value: "Ask the expert" %>
      <%= submit_tag "Ask the expert", class: "each-insider-home-tab #{ params[:category] == 'Ask the expert' ? 'insider-home-tab-active' : '' }"  %>
    <% end %>
  </div>
</div>
<div class="insider-home-articles">
  <%= render 'insider_cards', insider_articles: @insider_articles %>
</div>

<script>
  tabs = document.querySelectorAll('.each-insider-home-tab');
  tabs.forEach(function(tab) {
    tab.addEventListener('click', (e) => {
      document.querySelectorAll('.each-insider-home-tab').forEach(function(tab) { tab.classList.remove('insider-home-tab-active') });
      e.currentTarget.classList.add('insider-home-tab-active');
    })
  });
</script>
